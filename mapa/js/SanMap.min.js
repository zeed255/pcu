function SanMapProjection(e){var n=e;this.pixelOrigin_=new google.maps.Point(n/2,n/2),this.pixelsPerLonDegree_=n/360,this.fromLatLngToPoint=function(e,n){var t=n||new google.maps.Point(0,0);return t.x=this.pixelOrigin_.x+e.lng()*this.pixelsPerLonDegree_*2,t.y=this.pixelOrigin_.y-e.lat()*this.pixelsPerLonDegree_*2,t},this.fromPointToLatLng=function(e){var n=(e.x-this.pixelOrigin_.x)/this.pixelsPerLonDegree_/2,t=(-e.y+this.pixelOrigin_.y)/this.pixelsPerLonDegree_/2;return new google.maps.LatLng(t,n,!0)}}function SanMapType(e,n,t,a){this.getImageMapType=function(o){return a=a||512,new google.maps.ImageMapType({getTileUrl:function(e,n){var a=e.x,g=e.y,i=1<<n;return 0>g||g>=i||o!==!0&&(0>a||a>=i)?t(n,-1,-1):t(n,(a%i+i)%i,g)},tileSize:new google.maps.Size(a,a),maxZoom:n,minZoom:e})}}function SanMap(){}SanMap.createMap=function(e,n,t,a,o,g){if(void 0===n||0==n.length)return console.warn("SanMap: No map types were parsed with SanMap.createMap."),null;var i=new google.maps.Map(e,{zoom:t||2,center:a||SanMap.getLatLngFromPos(0,0),streetViewControl:!1,mapTypeControlOptions:{mapTypeIds:Object.keys(n)}});for(var p in n)if(n.hasOwnProperty(p)){var r=n[p].getImageMapType(o||!1);r.name=r.alt=p,r.projection=new SanMapProjection(r.tileSize.width),i.mapTypes.set(p,r)}return i.setMapTypeId(g||Object.keys(n)[0]),o||(bounds=new google.maps.LatLngBounds(new google.maps.LatLng(-90,-90),new google.maps.LatLng(90,90)),google.maps.event.addListener(i,"center_changed",function(){if(!bounds.contains(i.getCenter())){var e=i.getCenter().lng(),n=i.getCenter().lat();e<bounds.getSouthWest().lng()&&(e=bounds.getSouthWest().lng()),e>bounds.getNorthEast().lng()&&(e=bounds.getNorthEast().lng()),n<bounds.getSouthWest().lat()&&(n=bounds.getSouthWest().lat()),n>bounds.getNorthEast().lat()&&(n=bounds.getNorthEast().lat()),i.setCenter(new google.maps.LatLng(n,e))}})),i},SanMap.width=6e3,SanMap.height=6e3,SanMap.ox=0,SanMap.oy=0,SanMap.setMapSize=function(e,n,t,a){SanMap.width=e,SanMap.height=n,SanMap.ox=t,SanMap.oy=a},SanMap.getLatLngFromPos=function(e,n){return"object"==typeof e?new google.maps.LatLng((e.y-SanMap.oy)/SanMap.height*180,(e.x-SanMap.ox)/SanMap.width*180):new google.maps.LatLng((n-SanMap.oy)/SanMap.height*180,(e-SanMap.ox)/SanMap.width*180)},SanMap.getPosFromLatLng=function(e){return{x:e.lng()*SanMap.width/180+SanMap.ox,y:e.lat()*SanMap.height/180+SanMap.oy}};